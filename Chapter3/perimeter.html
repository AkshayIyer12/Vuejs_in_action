<html>
<head>
  <title>Calculating Area - Vue.js in Action</title>
  <script src="https://unpkg.com/vue/dist/vue.js" 
    type="text/javascript"></script>
</head>
<body>
  <div id="app">
    <p>
      Perimeter are equal to: {{ perimeter }}     //#A
    </p>
    <p>
      <button v-on:click="height += 1">Add length</button>     //#B
      <button v-on:click="width += 1">Add width</button>       //#B
    </p>
  </div>
  <script type="text/javascript">
    var app = new Vue({
      el: '#app',
      data: {
        height: 1,     //#C
        width: 2       //#C
      },
      computed: {
        perimeter: function () {                     //#D
          return 2 * (this.width + this.height);     //#D
        },
        area: function () {
          return this.width * this.height
        },
        checkVal: function () {
          if (Math.floor(Math.sqrt(Math.pow(this.height, 2) 
          + Math.pow(this.width, 2))) === Math.sqrt(Math.pow(this.width, 2) 
          + Math.pow(this.height, 2))) {
            this.area
            this.perimeter
          }
        }                                   //#D
      },
      watch: {
        height: function(newVal, oldVal) {                //#E
          console.log('The old value of length was: '     //#E
                      + oldVal +                          //#E
                      '\nThe new value of length is: '    //#E
                      + newVal);                          //#E
        },
        width: function(newVal, oldVal) {                 //#F
          console.log('The old value of width was: '      //#F
                      + oldVal +                          //#F
                      '\nThe new value of width is: '     //#F
                      + newVal);                          //#F
        },
        perimeter: function(newVal, oldVal) {                  //#G
          console.log('The old value of area was: '       //#G
                      + oldVal +                          //#G
                      '\nThe new value of area is: '      //#G
                      + newVal);                          //#G
        },
        area: function(newVal, oldVal) {                  //#G
          console.log('The old value of area was: '       //#G
                      + oldVal +                          //#G
                      '\nThe new value of area is: '      //#G
                      + newVal);                          //#G
        }
      },
      beforeUpdate: function() {                             //#H
        console.log('All those data changes happened '       //#H
                    + 'before the output gets updated.');    //#H
      }
    });
  </script>
</body>
</html>
